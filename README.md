# Atlan Advance Credit Solutions

Тестовое задание для Atlan Advance Management на должность Frontend developer на Vue.js

## Project setup
```
npm install
```

### Compiles and hot-reloads for development
```
npm run serve
```

### Compiles and minifies for production
```
npm run build
```

### Lints and fixes files
```
npm run lint
```

### Customize configuration
See [Configuration Reference](https://cli.vuejs.org/config/).

## Техническое задание

Необходимо реализовать фронт для редактирования сущности/модели "документ" и его дочерних моделей, на двух вкладках.
Получившийся интерфейс должен выглядеть примерно так:

```
  Document #100       ========  ==========             |     Document #100       ========  ==========
  Status: Ok          [ Save ]  [ Delete ]             |     Status: Ok          [ Save ]  [ Delete ]
                      ========  ==========             |                         ========  ==========
                                                       |
   [ Main ]   [ Table ]                                |      [ Main ]   [ Table ]
  /        \                                           |                /         \
  |         =====================================|     |     |==========           =================================|
  |                                              |     |     |                                                      |
  |  Total price: 300.33                         |     |     |  End: 2022-01-08                                     |
  |                                              |     |     |                                                      |
  |  ----------------------------------          |     |     |  --------------------------------------------------  |
  |  |  Title:        Price:        x |          |     |     |  |  Period ^^  |  Qwe ^v  |  Rty ^v  |  Start ^v  |  |
  |  |  [ Nested 1 ]  [ 100.11   ]    |          |     |     |  |------------------------------------------------|  |
  |  |  Foo:                          |          |     |     |  | 1 [ ]       | 19.01    | A        | 2021-09-07 |  |
  |  |  [ 10       ]                  |          |     |     |  |------------------------------------------------|  |
  |  ----------------------------------          |     |     |  | 2 [v]       | 18.02    | H        | 2021-09-18 |  |
  |                                              |     |     |  |------------------------------------------------|  |
  |  ----------------------------------          |     |     |  | 3 [ ]       | 17.03    | C        | 2021-09-30 |  |
  |  |  Title:        Price:        x |          |     |     |  |------------------------------------------------|  |
  |  |  [ Nested 2 ]  [ 200.22   ]    |          |     |     |  | 4 [v]       | 16.04    | F        | 2021-10-12 |  |
  |  |  Foo:          Bar:            |          |     |     |  |------------------------------------------------|  |
  |  |  [ 100      ]  [ 200      ]    |          |     |     |  | 5 [ ]       | 15.05    | E        | 2021-10-23 |  |
  |  |  Baz:                          |          |     |     |  |------------------------------------------------|  |
  |  |  [ 300      ]                  |          |     |     |  | 6 [ ]       | 14.06    | D        | 2021-11-04 |  |
  |  ----------------------------------          |     |     |  |------------------------------------------------|  |
  |                                              |     |     |  | 7 [ ]       | 13.07    | G        | 2021-11-15 |  |
  |  ----------------------------------          |     |     |  |------------------------------------------------|  |
  |  |  Title:        Price:        x |          |     |     |  | 8 [ ]       | 12.08    | B        | 2021-11-27 |  |
  |  |  [ Nested 3 ]  [ 0        ]    |          |     |     |  |------------------------------------------------|  |
  |  ----------------------------------          |     |     |  | 9 [ ]       | 11.09    | I        | 2021-12-08 |  |
  |                                              |     |     |  --------------------------------------------------  |
  |  ===========                                 |     |     |                                                      |
  |  [ Add new ]                                 |     |     ========================================================
  |  ===========                                 |     |
  |                                              |     |     ^^  и ^v  - любой вариант индикации сортировки по столбцу
  |===============================================     |     [ ] и [v] - выключенный и включенный чекбокс
```

Константа "doc" описывает начальное состояние интерфейса, с пояснениями и требованиями.
Эти данные, а также все состояния интерфейса, используемые более чем в одном компоненте, должны находится в хранилище Vuex или Pinia.

```
const doc = {
    /**
     * Заголовок
     */
    // Требование: заголовок выводится в <title> ("Document 100 - Ok") и на самой странице, над вкладками.
    // Это единственный id, который нужно показать пользователю. Id дочерних моделей нигде не выводятся.
    id: 100,
    status: 'Ok',

    /**
     * Кнопки сохранения и удаления
     */
    // Требования:
    // 1. При сохранении на сервер улетает HTTP PATCH-запрос, содержащий только изменённые данные.
    //    Например, если у модели "Nested 1" отредактировали только значение "foo", то в запросе не должно быть текущих значений "title" и "price".
    //    На время выполнения запроса кнопки "Save" и "Delete" отключаются (disabled).
    //    Данные улетают в любом виде - главное чтобы можно было понять, что было отредактировано, что удалено, а что добавлено. Например так:
    //
    // PATCH /doc/100
    // [
    //    nested: [
    //       { id: 11, bar: 123 },
    //       { id: 33, deleted: true },
    //       { title: 'Nested 4', price: 400.44 },
    //       { title: 'Nested 5', price: 500.55 },
    //    ],
    //    table: [
    //       { id: 91, checked: true },
    //       { id: 64, checked: false },
    //    ],
    // ]
    //
    // 2. При нажатии кнопки "Delete" пользователю показывается модальное окно для подтверждения,
    //    с вопросом "Delete document #100?" и кнопками "Yes", "No".
    //    При выборе "No" модальное окно закрывается, при выборе "Yes" на сервер улетает HTTP DELETE запрос:
    // DELETE /doc/100
    //    при этом все элементы управления и любая возможность закрыть это модальное окно - отключаются, до тех пор
    //    пока сервер не ответит на этот запрос.
    //
    // Тестовое задание заканчивается при завершения запроса, дальнейшее поведение интерфейса не определено.
    // Бэк реализовывать не нужно. Необходимо только отправить запрос на любой url, или эмулировать отправку с небольшой задержкой.

    /**
     * Вкладка "Main"
     **/
    // Требования:
    // 1. Вывести список моделей nested в виде групп input'ов, с учётом того, что во всех моделях есть поля "title" и "price",
    //    а в некоторых также есть произвольное количество дополнительных целочисленных полей, с произвольными названиями.
    //    Значение всех полей можно редактировать, но нет возможности добавлять или удалять поля.
    // 2. Сами модели nested можно удалять и добавлять.
    //    Реализовать это можно, например, добавив возле каждой группы контролов кнопку "x" или "Delete", а в начале или в конце списка - кнопку "Add new".
    //    В новой модели nested должны быть только поля "title" и "price".
    // 3. Поля "title" и "price" обязательны для заполнения. Пустое поле подсвечивается красным, при этом кнопка "Save" (над вкладками) отключается.
    // 4. Сумма всех введённых "price" выводится над списком.
    nested: [
        {id: 11, title: 'Nested 1', price: 100.11, foo: 10},
        {id: 22, title: 'Nested 2', price: 200.22, foo: 100, bar: 200, baz: 300},
        {id: 33, title: 'Nested 3', price: 0},
    ],

    /**
     * Вкладка "Table"
     **/
    // Содержит таблицу со столбцами "Period", "Qwe", "Rty" и "Start".
    // Требования:
    // 1. Строки таблицы можно отсортировать по любому столбцу.
    //    Кнопки для сортировки и индикация текущей сортировки должны находиться в заголовке каждого столбца.
    //    Изначально массив моделей всегда предоставляется отсортированным по полю "period" по убыванию, это нужно показать.
    // 2. В столбце "Period" рядом с номером выводится чекбокс, статус которого нужно сохранять при нажатии "Save".
    // 3. Дата (unix timestamp в поле "start") должна выводиться в человекочитаемом виде, в текущем часовом поясе браузера.
    // 4. Над таблицей должно выводиться значение даты из строки с наибольшим "period", к которой прибавлен 1 месяц.
    //    При этом, если в "start" окажется конец января 2021 (31 число), то показать нужно конец февраля (28 число).
    //    Можно использовать любые библиотеки для работы с датами.
    table: [
        {id: 91, period: 1, qwe: 19.01, rty: 'A', start: 1631000000, check: false},
        {id: 82, period: 2, qwe: 18.02, rty: 'H', start: 1632000000, check: true },
        {id: 73, period: 3, qwe: 17.03, rty: 'C', start: 1633000000, check: false},
        {id: 64, period: 4, qwe: 16.04, rty: 'F', start: 1634000000, check: true },
        {id: 55, period: 5, qwe: 15.05, rty: 'E', start: 1635000000, check: false},
        {id: 46, period: 6, qwe: 14.06, rty: 'D', start: 1636000000, check: false},
        {id: 37, period: 7, qwe: 13.07, rty: 'G', start: 1637000000, check: false},
        {id: 28, period: 8, qwe: 12.08, rty: 'B', start: 1638000000, check: false},
        {id: 19, period: 9, qwe: 11.09, rty: 'I', start: 1639000000, check: false},
    ],
};
```
